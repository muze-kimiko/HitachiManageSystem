/*
 * File: app/view/FaultHandlingReportPanelWhy.js
 *
 * This file was generated by Sencha Architect version 3.0.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('HelcPDA.view.fault.FaultHandlingReportPanelWhy', {
    extend: 'Ext.Panel',
    id:'faultHandlingReportPanelWhy',

    requires: [
        'Ext.Toolbar',
        'Ext.Button',
        'Ext.Spacer',
        'Ext.tab.Panel',
        'Ext.form.Panel',
        'Ext.form.FieldSet',
        'Ext.field.Select',
        'Ext.dataview.List',
        'Ext.XTemplate'
    ],

    config: {
        layout: 'vbox',
        items: [
            {
                xtype: 'toolbar',
                docked: 'top',
                title: '故障原因',
                items: [
                    {
                        xtype: 'button',
                        id: 'back_FRP',
                        ui: 'back',
                        text: '返回'
                    },
                    {
                        xtype: 'spacer'
                    },
                    {
                        xtype: 'button',
                        handler: function(button, e) {
                            var menu = Ext.create('Ext.Menu', {
                                items: [
                                {
                                    text: '增加',
                                    id: 'add_reason',
                                    iconCls: 'add',
                                    handler:function(button,e){
                                      	 Ext.Viewport.hideMenu('right');
                                      }
                                },
                                {
                                    text: '修改',
                                    id: 'modify_reason',
                                    iconCls: 'refresh',
                                    handler:function(button,e){
                                     	 Ext.Viewport.hideMenu('right');
                                     }
                                },
                                {
                                    text: '取消',
                                    id: 'cancel_reason_why',
                                    iconCls: 'delete',
                                    handler:function(button,e){
                                    	 Ext.Viewport.hideMenu('right');
                                    }
                                }
                                ]
                            });

                            Ext.Viewport.setMenu(menu, {
                                side: 'right',
                                reveal: false
                            });

                            Ext.Viewport.showMenu('right');

                        },
                        itemId: 'mybutton6',
                        iconCls: 'more',
                        text: ''
                    }
                ]
            },
            {
                xtype: 'tabpanel',
                id:'why_panel',
                flex: 1,
                items: [
                    {
                        xtype: 'container',
                        title: '故障信息',
                        height: '100%',
                        scrollable: true,
                        items: [
                            {
                                xtype: 'formpanel',
                                height: 600,
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'fieldset',
                                        items: [
                                            {
                                            	xtype: 'numberfield',
                                                label: '故障楼层',
                                                minValue: 0,
                                                maxValue: 500,
                                                id:'fault_floor_number',
                                                labelWidth:'40%',
                                                readOnly: false,
                                                placeHolder: '请输入故障楼层',
                                            },
                                            {
                                                xtype: 'autoTextArea',
                                                id: 'fault_detail',
                                                label: '故障现象',
                                                labelWidth:'40%',
                                                placeHolder: '请输入故障现象(限字20)',
                                                readOnly: false,
                                                maxLength:20,
                                                listeners:{
                                                /*	keyup:function(){
                                                		var length=Ext.getCmp('fault_detail').getValue().length;
                                                		var value=Ext.getCmp('fault_detail').getValue();
                                                		if(length>=20){
                                                			 WL.Toast.show("提示","字数长度超过20个");
                                                	    	Ext.getCmp('fault_detail').setValue(value.substring(0,21));
                                                	    }
                                                	}*/
                                                }
                                            },
                                            {
                                                xtype: 'selectfield',
                                                id: 'fault_do',
                                                label: '故障对策',
                                                labelWidth:'40%',
                                                options: [
                                                    {
                                                        text: '请选择',
                                                        value: ''
                                                    },
                                                    {
                                                        text: '更换零件',
                                                        value: '更换零件'
                                                    },
                                                    {
                                                        text: '调整尺寸、位置、电流电压、压力的调整',
                                                        value: '调整尺寸、位置、电流电压、压力的调整'
                                                    },
                                                    {
                                                        text: '固紧',
                                                        value: '固紧'
                                                    },
                                                    {
                                                        text: '保护装置复位',
                                                        value: '保护装置复位'
                                                    },
                                                    {
                                                    	text: '清洁、加油、清除',
                                                    	value: '清洁、加油、清除'
                                                    },
                                                    {
                                                    	text: '检查',
                                                    	value: '检查'
                                                    },
                                                    {
                                                    	text: '顾客处理',
                                                    	value: '顾客处理'
                                                    },
                                                    {
                                                    	text: '其他',
                                                    	value: '其他'
                                                    }
                                                ],
                                            },
                                            {
                                                xtype: 'selectfield',
                                                id: 'fault_reason',
                                                labelWidth:'40%',
                                                label: '故障原因',
                                                options: [
                                                    {
                                                        text: '请选择',
                                                        value: ''
                                                    },
                                                    {
                                                        text: '1.保养调整、检查不良',
                                                        value: '1.保养调整、检查不良'
                                                    },
                                                    {
                                                        text: '2.保养清洁不良',
                                                        value: '2.保养清洁不良'
                                                    },
                                                    {
                                                        text: '3.保养加油不良',
                                                        value: '3.保养加油不良'
                                                    },
                                                    {
                                                        text: '4.保养固定不良',
                                                        value: '4.保养固定不良'
                                                    },
                                                    {
                                                        text: '5.安装不良',
                                                        value: '5.安装不良'
                                                    },
                                                    {
                                                        text: '6.维改不良',
                                                        value: '6.维改不良'
                                                    },
                                                    {
                                                        text: '7.零部件不良',
                                                        value: '7.零部件不良'
                                                    },
                                                    {
                                                        text: '8.使用不良',
                                                        value: '8.使用不良'
                                                    },
                                                    {
                                                        text: '9.顾客设备不良',
                                                        value: '9.顾客设备不良'
                                                    },
                                                    {
                                                        text: '10.其他',
                                                        value: '10.其他'
                                                    }
                                                ],
                                            },
                                            {
                                                xtype: 'autoTextArea',
                                                id: 'reason_analysis',
                                                labelWidth:'40%',
                                                label: '原因分析',
                                                placeHolder: '请输入原因分析(限字20)',
                                                readOnly: false,
                                                maxLength:20,
                                                listeners:{
                                                /*	keyup:function(){
                                                		var length=Ext.getCmp('reason_analysis').getValue().length;
                                                	    var value=Ext.getCmp('reason_analysis').getValue();
                                                		if(length>=20){
                                                			 WL.Toast.show("提示","字数长度超过20个");
                                                	    	Ext.getCmp('reason_analysis').setValue(value.substring(0,21));
                                                	    }
                                                	}*/
                                                }
                                            },
                                            {
                                                xtype: 'autoTextArea',
                                                id: 'do_method',
                                                labelWidth:'40%',
                                                label: '处理方法',
                                                maxLength:20,
                                                placeHolder: '请输入处理方法(限字20)',
                                                listeners:{
                                                /*	change:function(){
                                                		var length=Ext.getCmp('do_method').getValue().length;
                                                	    var value=Ext.getCmp('do_method').getValue();
                                                		if(length>=20){
                                                			
                                                			 WL.Toast.show("提示","字数长度超过20个");
                                                	    	Ext.getCmp('do_method').setValue(value.substring(0,21));
                                                	    }
                                                	}*/
                                                }
                                            },
                                            {
                                                xtype: 'panel',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'spacer'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        id: 'Commitreason',
                                                        margin: '15 0',
                                                        width: '90%',
                                                        text: '提交'
                                                    },
                                                    {
                                                        xtype: 'spacer'
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'container',
                        title: '<div id="Fault_ResContainer"></div>',
                        height: '100%',
                        layout: 'vbox',
                        items: [
                            {
                                xtype: 'list',
                                flex: 1,
                                store:'FaultAppearanceStore',
                                id:'FaultAppearanceList',
                                data: [
                                ],
                                itemTpl: [
                                    '<div style="width:100%; margin:0; padding:0;overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">',
                                    '   <div style="width:<script>return(window.screen.width-25)</script>px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">'+
                                    '	 	<h1 style="float:left;width:250px; margin:0; padding:0;">故障现象: {FAULT_CAUSE}</h1>',
                                    '	 	<tpl if="Fault_Floor_Number!=null||Fault_Floor_Number!=0">'+
                                    '       	<h1 style="float:left;width:50px; margin:0; padding:0;">故障楼层: {Fault_Floor_Number}</h1>',
                                    '	 	</tpl>'+
                                    '   </div>'+
                                    '	<div style="float:right;margin:0;">',
                                    '   	<img id="1" style="width:22px;" src="images/delete01.png"/>',
                                    '   </div>',
                                    '</div>'
                                ]
                            },{
                            	xtype:'hiddenfield',
                            	id:'fault_Appearance_index',
                            	value:''
                            }
                        ]
                    }
                ]
            }
        ]
    }

});