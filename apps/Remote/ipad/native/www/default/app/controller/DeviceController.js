
/* JavaScript content from app/controller/DeviceController.js in folder common */
/*
 * File: app/controller/DeviceController.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('HelcRemote.controller.DeviceController', {
    extend: 'Ext.app.Controller',

    config: {
        control: {
            "dataview#nav_indexListDevice": {
                itemtap: 'onNav_indexListDeviceItemTap'
            },
            "list#device_ListNavFloor1": {
                itemtap: 'onDevice_ListNavFloor1ItemTap'
            },
            "list#device_ListNavFloor1C": {
                itemtap: 'onDevice_ListNavFloor1CItemTap'
            },
            "list#device_ListNavFloor2": {
                itemtap: 'onDevice_ListNavFloor2ItemTap'
            },
            "list#device_ListNavCinema": {
                itemtap: 'onDevice_ListNavCinemaItemTap'
            },
            "list#device_ListNavMuseum": {
                itemtap: 'onDevice_ListNavMuseumItemTap'
            }
        }
    },

    onNav_indexListDeviceItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('remote_DeviceMain');
        var classname;
        var onInitial = Ext.emptyFn();
        var onShow = Ext.emptyFn();

        if(index===0) {
            deviceRemote.close();
            console.log('Back to top main!');
            viewUtil.goLast();
            return;
        }

        var text = record.get('text');
        switch(text) {
            case '一层大堂':
                classname = 'Device.subNavFloor1';
                break;

            case '一层C区':
                classname = 'Device.subNavFloor1C';
                break;

            case '二层':
                classname = 'Device.subNavFloor2';
                break;

            case '电影院':
                classname = 'Device.subNavCinema';
                break;

            case '博物馆':
                classname = 'Device.subNavMuseum';
                break;

            default:
                break;

        }
        subView.show({classname:classname, parent:parent, onInitial:onInitial, onShow:onShow});
    },

    onDevice_ListNavFloor1ItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('Device_subNavFloor1');
        var classname;
        var onInitial = Ext.emptyFn();
        var onShow = Ext.emptyFn();

        var text = record.get('text');
        switch(text) {

            case '音量控制':
                classname = 'Device.volumeFloor1';
                onShow = function() {
                    deviceRemote.send('QDTVOL');
                };
                onInitial = function() {
                    var onChange = function(obj, value) {
                        deviceRemote.send(obj.getId() + global.pad2(value));
                    };
                    var sliders = [];
                    var info = [
                        { id:'DTVOL', label:'LED播放器' },
                    ];
                    for(var i=0; i<info.length; i++) {
                        sliders[i] = {
                            xtype: 'sliderfieldextended',
                            id: info[i].id,
                            name: info[i].id,
                            label: info[i].label,
                            labelWidth: 160,
                            minValue: 0,
                            maxValue: 99,
                            increment: 1,
                            value: 0,
                            onChange: onChange
                        };
                    }
                    var form = Ext.getCmp('device_volumeFloor1Form');
                    form.setItems(sliders);
                };
                break;

            case '通道灯光':
                classname = 'Device.lightFloor1_3';
                onShow = function() {
        //             deviceRemote.send('QDTLGT12');
        //             deviceRemote.send('QDTLGT13');
                    deviceRemote.batchSend(['QDTLGT12','QDTLGT13']);
                };
                onInitial = function() {
                    var i;
                    var name = [
                        '西侧通道灯1',
                        '西侧通道灯2',
                    ];
                    var name_arr = [];
                    for(i=0;i<name.length; i++) {
                        name_arr[i] = {
                            xtype: 'label',
                            html: name[i],
                            style: 'line-height:60px;height:60px;margin:4px'
                        };
                    }

                    var id = [
                        'DTLGT12', 'DTLGT13'
                    ];
                    var on_arr = [], off_arr = [];
                    for(i=0;i<id.length; i++) {
                        on_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'ON',
                            relativeId: [id[i] + 'OF'],
                            text: '开',
                            style: 'height:60px'
                        };
                        off_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'OF',
                            relativeId: [id[i] + 'ON'],
                            text: '关',
                            style: 'height:60px'
                        };
                    }

                    Ext.getCmp('DTLGT_3_Lable').setItems(name_arr);
                    Ext.getCmp('DTLGT_3_On').setItems(on_arr);
                    Ext.getCmp('DTLGT_3_Off').setItems(off_arr);
                };
                break;

            case '轿厢区灯光':
                classname = 'Device.lightFloor1_2';
                onShow = function() {
                    deviceRemote.batchSend([
                        'QDTLGT06','QDTLGT07','QDTLGT17','QDTLGT08','QDTLGT09','QDTLGT10',
                        'QDTLGT16','QDTLGT22','QDTLGT23','QDTLGT11','QDTLGT24','QDTLGT25'
                    ]);
                };
                onInitial = function() {
                    var i;
                    var name = [
                        '标准轿厢区射灯1',
                        '标准轿厢区射灯2',
                        '标准轿厢区产品灯带',
                        '住宅轿厢区吊灯',
                        '住宅轿厢区灯带',
                        '酒店轿厢区吊灯',
                        '酒店轿厢区门口灯带',
                        '酒店轿厢区门口射灯',
                        '酒店轿厢区灯带',
                        '商务轿厢区吊灯',
                        '商务轿厢区射灯',
                        '酒店/商务VIP门头灯',
                    ];
                    var name_arr = [];
                    for(i=0;i<name.length; i++) {
                        name_arr[i] = {
                            xtype: 'label',
                            html: name[i],
                            style: 'line-height:40px;height:40px;margin:4px'
                        };
                    }

                    var id = [
                        'DTLGT06', 'DTLGT07', 'DTLGT17', 'DTLGT08', 'DTLGT09', 'DTLGT10', 'DTLGT16',
                        'DTLGT22', 'DTLGT23', 'DTLGT11', 'DTLGT24', 'DTLGT25',
                    ];
                    var on_arr = [], off_arr = [];
                    for(i=0;i<id.length; i++) {
                        on_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'ON',
                            relativeId: [id[i] + 'OF'],
                            text: '开',
                            style: 'height:40px'
                        };
                        off_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'OF',
                            relativeId: [id[i] + 'ON'],
                            text: '关',
                            style: 'height:40px'
                        };
                    }

                    Ext.getCmp('DTLGT_2_Lable').setItems(name_arr);
                    Ext.getCmp('DTLGT_2_On').setItems(on_arr);
                    Ext.getCmp('DTLGT_2_Off').setItems(off_arr);
                };
                break;

            case '技术展示区灯光':
                classname = 'Device.lightFloor1_1';
                onShow = function() {
                    deviceRemote.batchSend(['QDTLGT01','QDTLGT02','QDTLGT03','QDTLGT15','QDTLGT18',
                                            'QDTLGT19','QDTLGT04','QDTLGT05','QDTLGT14','QDTLGT20','QDTLGT21']);
                };
                onInitial = function() {
                    var i;
                    var name = [
                        '直梯/扶梯/电机产品技术展示区靠窗射灯',
                        '直梯/扶梯/电机产品技术展示区中排射灯',
                        '直梯/扶梯/电机产品技术展示区靠门射灯',
                        '直梯/扶梯/电机产品技术展示区靠墙射灯',
                        '观光梯射灯1',
                        '观光梯射灯2',
                        '超高速电梯技术展示区左射灯',
                        '超高速电梯技术展示区右射灯',
                        '超高速电梯技术展示区灯带',
                        '超高速电梯技术展示区门头灯',
                        '插座总开关',
                    ];
                    var name_arr = [];
                    for(i=0;i<name.length; i++) {
                        name_arr[i] = {
                            xtype: 'label',
                            html: name[i],
                            style: 'line-height:44px;height:44px;margin:4px'
                        };
                    }

                    var id = [
                        'DTLGT01', 'DTLGT02', 'DTLGT03', 'DTLGT15',
                        'DTLGT18', 'DTLGT19',
                        'DTLGT04', 'DTLGT05', 'DTLGT14',
                        'DTLGT20', 'DTLGT21',
                    ];
                    var on_arr = [], off_arr = [];
                    for(i=0;i<id.length; i++) {
                        on_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'ON',
                            relativeId: [id[i] + 'OF'],
                            text: '开',
                            style: 'height:44px'
                        };
                        off_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'OF',
                            relativeId: [id[i] + 'ON'],
                            text: '关',
                            style: 'height:44px'
                        };
                    }

                    Ext.getCmp('DTLGT_1_Lable').setItems(name_arr);
                    Ext.getCmp('DTLGT_1_On').setItems(on_arr);
                    Ext.getCmp('DTLGT_1_Off').setItems(off_arr);
                };
                break;

            case '系统控制':
                classname = 'Device.systemFloor1';
                onInitial = function() {
                    // 系统控制
                    Ext.getCmp('DTSYS').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSYSON',
                            relativeId: ['DTSYSOF'],
                            text: '开启系统',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSYSOF',
                            relativeId: ['DTSYSON'],
                            text: '关闭系统',
                            flex: 1
                        }
                    ]);

                    // 输入信号
                    Ext.getCmp('DTSIGIN').setItems([
                        {
                            xtype: 'label',
                            docked: 'top',
                            html: '输入设备'
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGIN1',
                            relativeId: ['DTSIGIN2','DTSIGIN3','DTSIGIN4','DTSIGIN5','DTSIGIN6'],
                            text: '高清播放器',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGIN2',
                            relativeId: ['DTSIGIN1','DTSIGIN3','DTSIGIN4','DTSIGIN5','DTSIGIN6'],
                            text: '高清DVD',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGIN3',
                            relativeId: ['DTSIGIN1','DTSIGIN2','DTSIGIN4','DTSIGIN5','DTSIGIN6'],
                            text: '左边信息盒1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGIN4',
                            relativeId: ['DTSIGIN1','DTSIGIN2','DTSIGIN3','DTSIGIN5','DTSIGIN6'],
                            text: '左边信息盒2',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGIN5',
                            relativeId: ['DTSIGIN1','DTSIGIN2','DTSIGIN3','DTSIGIN4','DTSIGIN6'],
                            text: '右边信息盒1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGIN6',
                            relativeId: ['DTSIGIN1','DTSIGIN2','DTSIGIN3','DTSIGIN4','DTSIGIN5'],
                            text: '右边信息盒2',
                            flex: 1
                        },
                    ]);

                    // 输出信号
                    Ext.getCmp('DTSIGOT').setItems([
                        {
                            xtype: 'label',
                            docked: 'top',
                            html: '输出设备'
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGOT1',
                            relativeId: ['DTSIGOT2','DTSIGOT3','DTSIGOT4','DTSIGOT5','DTSIGOT6'],
                            text: '大屏拼接处理器1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGOT2',
                            relativeId: ['DTSIGOT1','DTSIGOT3','DTSIGOT4','DTSIGOT5','DTSIGOT6'],
                            text: '大屏拼接处理器2',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGOT3',
                            relativeId: ['DTSIGOT1','DTSIGOT2','DTSIGOT4','DTSIGOT5','DTSIGOT6'],
                            text: '大屏拼接处理器3',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGOT4',
                            relativeId: ['DTSIGOT1','DTSIGOT2','DTSIGOT3','DTSIGOT5','DTSIGOT6'],
                            text: '大屏拼接处理器4',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGOT5',
                            relativeId: ['DTSIGOT1','DTSIGOT2','DTSIGOT3','DTSIGOT4','DTSIGOT6'],
                            text: '流动演出设备1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DTSIGOT6',
                            relativeId: ['DTSIGOT1','DTSIGOT2','DTSIGOT3','DTSIGOT4','DTSIGOT5'],
                            text: '流动演出设备2',
                            flex: 1
                        },
                    ]);
                };
                onShow = function() {
                    deviceRemote.batchSend(['QDTSYS','QDTSIG']);
                };
                break;
        }

        subView.show({classname:classname, parent:parent, onInitial:onInitial, onShow:onShow});
    },

    onDevice_ListNavFloor1CItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('Device_subNavFloor1C');
        var classname;
        var onInitial = Ext.emptyFn();
        var onShow = Ext.emptyFn();

        var text = record.get('text');
        switch(text) {

            case '播放器':
                classname = 'Device.displayFloor1C';
                onInitial = function() {
                    Ext.getCmp('F1CSIG_1').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG01',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG04','1CSIG05',
                                         '1CSIG06','1CSIG07','1CSIG08','1CSIG09'],
                            text: '影片1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG02',
                            relativeId: ['1CSIG01','1CSIG03','1CSIG04','1CSIG05',
                                         '1CSIG06','1CSIG07','1CSIG08','1CSIG09'],
                            text: '影片2',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG03',
                            relativeId: ['1CSIG02','1CSIG01','1CSIG04','1CSIG05',
                                         '1CSIG06','1CSIG07','1CSIG08','1CSIG09'],
                            text: '影片3',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG04',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG01','1CSIG05',
                                         '1CSIG06','1CSIG07','1CSIG08','1CSIG09'],
                            text: '影片4',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG05',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG04','1CSIG01',
                                         '1CSIG06','1CSIG07','1CSIG08','1CSIG09'],
                            text: '影片5',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG06',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG04','1CSIG05',
                                         '1CSIG01','1CSIG07','1CSIG08','1CSIG09'],
                            text: '影片6',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG07',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG04','1CSIG05',
                                         '1CSIG06','1CSIG01','1CSIG08','1CSIG09'],
                            text: '影片7',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG08',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG04','1CSIG05',
                                         '1CSIG06','1CSIG07','1CSIG01','1CSIG09'],
                            text: '影片8',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG09',
                            relativeId: ['1CSIG02','1CSIG03','1CSIG04','1CSIG05',
                                         '1CSIG06','1CSIG07','1CSIG08','1CSIG01'],
                            text: '影片9',
                            flex: 1
                        },

                    ]);

                    // 输出信号
                    Ext.getCmp('F1CSIG_2').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG00',
                            relativeId: ['1CSIG10','1CSIG11','1CSIG12'],
                            text: '待机画面',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG10',
                            relativeId: ['1CSIG00','1CSIG11','1CSIG12'],
                            text: '音视频停止',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG11',
                            relativeId: ['1CSIG10','1CSIG00','1CSIG12'],
                            text: '背景音乐停止',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSIG12',
                            relativeId: ['1CSIG10','1CSIG11','1CSIG00'],
                            text: '视频停止',
                            flex: 1
                        },
                    ]);
                };
                onShow = function() {
                };
                break;

            case '音量控制':
                classname = 'Device.volumeFloor1C';
                onShow = function() {
                    deviceRemote.batchSend(['Q1CVOLL1','Q1CVOLL2','Q1CVOLL3']);
                };
                onInitial = function() {
                    var onChange = function(obj, value) {
                        deviceRemote.send(obj.getId() + global.pad2(value));
                    };
                    var sliders = [];
                    var info = [
                        { id:'1CVOLL1', label:'无线话筒1(L1)' },
                        { id:'1CVOLL2', label:'头戴话筒(L1)' },
                        { id:'1CVOLL3', label:'播放服务器(L6)' },
                    ];
                    for(var i=0; i<info.length; i++) {
                        sliders[i] = {
                            xtype: 'sliderfieldextended',
                            id: info[i].id,
                            name: info[i].id,
                            label: info[i].label,
                            labelWidth: 160,
                            minValue: 0,
                            maxValue: 99,
                            increment: 1,
                            value: 0,
                            onChange: onChange
                        };
                    }
                    var form = Ext.getCmp('device_volumeFloor1CForm');
                    form.setItems(sliders);
                };
                break;


            case '系统控制':
                classname = 'Device.systemFloor1C';
                onInitial = function() {
                    // 系统控制
                    Ext.getCmp('F1CSYS').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSYSON',
                            relativeId: ['1CSYSOF'],
                            text: '开启系统',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CSYSOF',
                            relativeId: ['1CSYSON'],
                            text: '关闭系统',
                            flex: 1
                        }
                    ]);

                    Ext.getCmp('F1CPJ1').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CPJ1ON',
                            relativeId: ['1CPJ1OF'],
                            text: '投影机开',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: '1CPJ1OF',
                            relativeId: ['1CPJ1ON'],
                            text: '投影机关',
                            flex: 1
                        }
                    ]);
                };
                onShow = function() {
                    deviceRemote.batchSend(['Q1CSYS','Q1CPJ1']);
                };
                break;
        }

        subView.show({classname:classname, parent:parent, onInitial:onInitial, onShow:onShow});
    },

    onDevice_ListNavFloor2ItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('Device_subNavFloor2');
        var classname;
        var onInitial = Ext.emptyFn();
        var onShow = Ext.emptyFn();

        var text = record.get('text');
        switch(text) {

            case '灯光控制':
                classname = 'Device.lightFloor2';
                onShow = function() {
                    deviceRemote.batchSend(['Q2FLGT01','Q2FLGT02','Q2FLGT03','Q2FLGT04',
                                            'Q2FLGT05','Q2FLGT06','Q2FLGT07']);
                };
                onInitial = function() {
                    var i;
                    var name = [
                        '展厅射灯1',
                        '2',
                        '展厅灯带1',
                        '2',
                        '3',
                        '走道射灯',
                        '走道灯带',
                    ];
                    var name_arr = [];
                    for(i=0;i<name.length; i++) {
                        name_arr[i] = {
                            xtype: 'label',
                            html: name[i],
                            style: 'line-height:60px;height:60px;margin:4px'
                        };
                    }

                    var id = [
                        '2FLGT01', '2FLGT02', '2FLGT03', '2FLGT05', '2FLGT04', '2FLGT06', '2FLGT07'
                    ];
                    var on_arr = [], off_arr = [];
                    for(i=0;i<id.length; i++) {
                        on_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'ON',
                            relativeId: [id[i] + 'OF'],
                            text: '开',
                            style: 'height:60px'
                        };
                        off_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'OF',
                            relativeId: [id[i] + 'ON'],
                            text: '关',
                            style: 'height:60px'
                        };
                    }

                    Ext.getCmp('F2LGT_Lable').setItems(name_arr);
                    Ext.getCmp('F2LGT_On').setItems(on_arr);
                    Ext.getCmp('F2LGT_Off').setItems(off_arr);
                };
                break;
        }

        subView.show({classname:classname, parent:parent, onInitial:onInitial, onShow:onShow});
    },

    onDevice_ListNavCinemaItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('Device_subNavCinema');
        var classname;
        var onInitial = Ext.emptyFn();
        var onShow = Ext.emptyFn();

        var text = record.get('text');
        switch(text) {
            case '显示控制':
                classname = 'Device.displayCinema';
                onInitial = function() {
                    // 信号源
                    Ext.getCmp('DYSIG_1').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSIG01',
                            relativeId: ['DYSIG02','DYSIG03'],
                            text: '播放服务器-投影1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSIG02',
                            relativeId: ['DYSIG01','DYSIG03'],
                            text: '墙身HDMI-投影1',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSIG03',
                            relativeId: ['DYSIG02','DYSIG01'],
                            text: '墙身VGA-投影1',
                            flex: 1
                        },
                    ]);
                    Ext.getCmp('DYSIG_2').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSIG04',
                            relativeId: ['DYSIG05','DYSIG06'],
                            text: '播放服务器-投影2',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSIG05',
                            relativeId: ['DYSIG04','DYSIG06'],
                            text: '墙身HDMI-投影2',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSIG06',
                            relativeId: ['DYSIG05','DYSIG04'],
                            text: '墙身VGA-投影2',
                            flex: 1
                        },
                    ]);

                    // 投影机
                    Ext.getCmp('DYPJ_1').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYPJ1ON',
                            relativeId: ['DYPJ1OF'],
                            text: '投影机1开机',
                            height: '75px',
                            flex: 2
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYPJ1OF',
                            relativeId: ['DYPJ1ON'],
                            text: '关机',
                            height: '75px',
                            flex: 2
                        },
                    ]);
                    Ext.getCmp('DYPJ_2').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYPJ2ON',
                            relativeId: ['DYPJ2OF'],
                            text: '投影机2开机',
                            height: '75px',
                            flex: 2
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYPJ2OF',
                            relativeId: ['DYPJ2ON'],
                            text: '关机',
                            height: '75px',
                            flex: 2
                        },
                    ]);
                };
                onShow = function() {
                    deviceRemote.batchSend(['QDYSPJ1','QDYSPJ2','QDYPJ1','QDYPJ2']);
                };
                break;

            case '系统控制':
                classname = 'Device.systemCinema';
                onInitial = function() {
                    // 系统控制
                    Ext.getCmp('DYSYS').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSON',
                            relativeId: ['DYSYSOF'],
                            text: '开启系统',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSOF',
                            relativeId: ['DYSYSON','DYSYSM1','DYSYSM2','DYSYSM3','DYSYSM4'],
                            text: '关闭系统',
                            flex: 1
                        }
                    ]);

                    Ext.getCmp('DYSYSM').setItems([
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM1',
                            relativeId: ['DYSYSM3','DYSYSM4','DYSYSM5','DYSYSM6','DYSYSM7','DYSYSM8'],
                            text: '全开模式(M1)',
                            flex: 1
                        },
        //                 {
        //                     xtype: 'mybutton',
        //                     deviceType: 'device',
        //                     id: 'DYSYSM2',
        //                     relativeId: ['DYSYSM1','DYSYSM3','DYSYSM4'],
        //                     text: '讲解模式(M2)',
        //                     flex: 1
        //                 },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM3',
                            relativeId: ['DYSYSM1','DYSYSM4','DYSYSM5','DYSYSM6','DYSYSM7','DYSYSM8'],
                            text: '离场模式(M3)',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM4',
                            relativeId: ['DYSYSM1','DYSYSM3','DYSYSM5','DYSYSM6','DYSYSM7','DYSYSM8'],
                            text: '全关模式(M4)',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM5',
                            relativeId: ['DYSYSM1','DYSYSM3','DYSYSM4','DYSYSM6','DYSYSM7','DYSYSM8'],
                            text: '形象片中文版(M5)',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM6',
                            relativeId: ['DYSYSM1','DYSYSM3','DYSYSM4','DYSYSM5','DYSYSM7','DYSYSM8'],
                            text: '形象片日文版(M6)',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM7',
                            relativeId: ['DYSYSM1','DYSYSM3','DYSYSM4','DYSYSM5','DYSYSM6','DYSYSM8'],
                            text: '形象片英文版(M7)',
                            flex: 1
                        },
                        {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: 'DYSYSM8',
                            relativeId: ['DYSYSM1','DYSYSM3','DYSYSM4','DYSYSM5','DYSYSM6','DYSYSM7'],
                            text: '待机模式(M8)',
                            flex: 1
                        },
                    ]);
                };
                onShow = function() {
                    deviceRemote.send('QDYSYS');
                };
                break;

            case '音量控制':
                classname = 'Device.volumeCinema';
                onShow = function() {
                    deviceRemote.batchSend(['QDYVOLL1','QDYVOLL2','QDYVOLL3','QDYVOLL4','QDYVOLL5','QDYVOLL6']);
                };
                onInitial = function() {
                    var onChange = function(obj, value) {
                        deviceRemote.send(obj.getId() + global.pad2(value));
                    };
                    var sliders = [];
                    var info = [
                        { id:'DYVOLL1', label:'手持话筒1' },
                        { id:'DYVOLL2', label:'手持话筒2' },
                        { id:'DYVOLL3', label:'头戴话筒1' },
                        { id:'DYVOLL4', label:'头戴话筒2' },
                        { id:'DYVOLL5', label:'讲台电脑' },
                        { id:'DYVOLL6', label:'播放器' },
                    ];
                    for(var i=0; i<info.length; i++) {
                        sliders[i] = {
                            xtype: 'sliderfieldextended',
                            id: info[i].id,
                            name: info[i].id,
                            label: info[i].label,
                            labelWidth: 160,
                            minValue: 0,
                            maxValue: 99,
                            increment: 1,
                            value: 0,
                            onChange: onChange
                        };
                    }
                    var form = Ext.getCmp('device_volumeCinamaForm');
                    form.setItems(sliders);
                };
                break;

            case '灯光控制':
                classname = 'Device.lightCinema';
                onShow = function() {
                    deviceRemote.batchSend(['QDYLGT01','QDYLGT02','QDYLGT03','QDYLGT04','QDYLGT05']);
                };
                onInitial = function() {
                    var i;
                    var name = [
                        '中排射灯',
                        '前排射灯',
                        '中排灯带',
                        '靠墙灯带1',
                        '靠墙灯带2',
                    ];
                    var name_arr = [];
                    for(i=0;i<name.length; i++) {
                        name_arr[i] = {
                            xtype: 'label',
                            html: name[i],
                            style: 'line-height:60px;height:60px;margin:4px'
                        };
                    }

                    var id = [
                        'DYLGT01', 'DYLGT02', 'DYLGT03', 'DYLGT04', 'DYLGT05'
                    ];
                    var on_arr = [], off_arr = [];
                    for(i=0;i<id.length; i++) {
                        on_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'ON',
                            relativeId: [id[i] + 'OF'],
                            text: '开',
                            style: 'height:60px'
                        };
                        off_arr[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'OF',
                            relativeId: [id[i] + 'ON'],
                            text: '关',
                            style: 'height:60px'
                        };
                    }

                    Ext.getCmp('DYLGT_Lable').setItems(name_arr);
                    Ext.getCmp('DYLGT_On').setItems(on_arr);
                    Ext.getCmp('DYLGT_Off').setItems(off_arr);
                };
                break;
        }

        subView.show({classname:classname, parent:parent, onInitial:onInitial, onShow:onShow});
    },

    onDevice_ListNavMuseumItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('Device_subNavMuseum');
        var classname;
        var onInitial = Ext.emptyFn();
        var onShow = Ext.emptyFn();

        var text = record.get('text');
        switch(text) {

            case '灯光控制':
                classname = 'Device.lightMuseum';
                onShow = function() {
                    deviceRemote.batchSend(['Q3FLGT01','Q3FLGT02','Q3FLGT03','Q3FLGT04','Q3FLGT05','Q3FLGT06',
                                           'Q3FLGT07','Q3FLGT08','Q3FLGT09','Q3FLGT10','Q3FLGT11','Q3FLGT12',
                                           'Q3FLGT13','Q3FLGT14']);
                };
                onInitial = function() {
                    var i;
                    var name = [
                        '大堂射灯1',
                        '大堂射灯2',
                        '大堂射灯3',
                        '大堂射灯4',
                        '馆内射灯1',
                        '馆内射灯2',
                        '馆内射灯3',
                        '走廊射灯1',
                        '走廊射灯2',
                        '走廊灯带',
                        '扶梯射灯',
                        '扶梯灯带',
                        '灯带',
                        '筒灯',
                    ];
                    var name_arr1 = [];
                    var name_arr2 = [];
                    for(i=0;i<7; i++) {
                        name_arr1[i] = {
                            xtype: 'label',
                            html: name[i],
                            style: 'line-height:60px;height:60px;margin:4px'
                        };
                        name_arr2[i] = {
                            xtype: 'label',
                            html: name[i + 7],
                            style: 'line-height:60px;height:60px;margin:4px'
                        };
                    }

                    var id = [
                        '3FLGT01', '3FLGT02', '3FLGT03', '3FLGT05', '3FLGT04', '3FLGT06', '3FLGT07',
                        '3FLGT08', '3FLGT09', '3FLGT10', '3FLGT11', '3FLGT12', '3FLGT13', '3FLGT14',
                    ];
                    var on_arr1 = [], off_arr1 = [];
                    var on_arr2 = [], off_arr2 = [];
                    for(i=0;i<7; i++) {
                        on_arr1[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'ON',
                            relativeId: [id[i] + 'OF'],
                            text: '开',
                            style: 'width:96px;height:60px'
                        };
                        off_arr1[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i] + 'OF',
                            relativeId: [id[i] + 'ON'],
                            text: '关',
                            style: 'width:96px;height:60px'
                        };
                        on_arr2[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i+7] + 'ON',
                            relativeId: [id[i+7] + 'OF'],
                            text: '开',
                            style: 'width:96px;height:60px'
                        };
                        off_arr2[i] = {
                            xtype: 'mybutton',
                            deviceType: 'device',
                            id: id[i+7] + 'OF',
                            relativeId: [id[i+7] + 'ON'],
                            text: '关',
                            style: 'width:96px;height:60px'
                        };
                    }

                    Ext.getCmp('F3LGT_1_Lable').setItems(name_arr1);
                    Ext.getCmp('F3LGT_1_On').setItems(on_arr1);
                    Ext.getCmp('F3LGT_1_Off').setItems(off_arr1);
                    Ext.getCmp('F3LGT_2_Lable').setItems(name_arr2);
                    Ext.getCmp('F3LGT_2_On').setItems(on_arr2);
                    Ext.getCmp('F3LGT_2_Off').setItems(off_arr2);
                };
                break;
        }

        subView.show({classname:classname, parent:parent, onInitial:onInitial, onShow:onShow});
    }

});