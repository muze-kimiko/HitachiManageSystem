
/* JavaScript content from app/controller/VipController.js in folder common */
/*
 * File: app/controller/VipController.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('HelcRemote.controller.VipController', {
    extend: 'Ext.app.Controller',

    config: {
        control: {
            "list#Vip_subNav_data": {
                itemtap: 'onVip_subNav_dataItemTap'
            },
            "dataview#Vip_vipProject_edifice": {
                itemtap: 'onVip_vipProject_edificeItemTap'
            },
            "dataview#Install_vip_companyCity": {
                itemtap: 'onInstall_vip_companyCityItemTap'
            },
            "dataview#Vip_vipContract_companyList": {
                itemtap: 'onVip_vipContract_companyListItemTap'
            },
            "button#Vip_subNav_BtnReturn": {
                tap: 'onVip_subNav_BtnReturnTap'
            },
            "button#Vip_vipContract_BtnReturn": {
                tap: 'onVip_vipContract_BtnReturnTap'
            },
            "button#Vip_vipContractLift_BtnReturn": {
                tap: 'onVip_vipContractLift_BtnReturnTap'
            },
            "button#Vip_vipProjectIntroduce_BtnReturn": {
                tap: 'onVip_vipProjectIntroduce_BtnReturnTap'
            }
        }
    },

    /* 大客户与大项目 主导航 */
    onVip_subNav_dataItemTap: function(dataview, index, target, record, e, eOpts) {
        var parent = Ext.getCmp('Vip_subNav');
        var classname;

        if(index===0){//大客户
            //打开 大客户 页面
            classname = 'Vip.vip';

            //大客户 显示
            onInitial = function() {
                Ext.getCmp('Install_vip_companyList').getStore().loadDat(
                    function() {},
                    function() {},
                    null
                );
                //大客户 -> 城市 显示
                Ext.getCmp('Install_vip_companyCity').getStore().loadDat(
                    function() {},
                    function() {},
                    null
                );
            };
        }else if(index===1){//大项目
            //打开 大项目 页面
            classname = 'Vip.vipProject';

            //大项目 显示
            onInitial = function() {
                Ext.getCmp('Vip_vipProject_edifice').getStore().loadDat(
                    function() {},
                    function() {},
                    null
                );
            };
        }


        subView.show({classname:classname,parent:parent,onInitial:onInitial});
    },

    /* 大项目 -> 大项目详细 */
    onVip_vipProject_edificeItemTap: function(dataview, index, target, record, e, eOpts) {
        viewUtil.goNext('Vip.vipProjectIntroduce', {
            onShow: function() {
            //大客户与大项目-> 大项目-> 大项目详细 显示
                Ext.getCmp('Vip_vipProjectIntroduce_data').getStore().loadDat(
                    function() {},
                    function() {},
                    null
                );
            }
        });

    },

    /* 大客户 -> 大客户合同信息 */
    onInstall_vip_companyCityItemTap: function(dataview, index, target, record, e, eOpts) {
        viewUtil.goNext('Vip.vipContract', {
            onShow: function() {
            //大客户与大项目-> 大客户-> 大客户合同信息 显示
                Ext.getCmp('Vip_vipContract_companyList').getStore().loadDat(
                    function() {},
                    function() {},
                    null
                );
            }
        });
    },

    /* 大客户 -> 大客户合同信息 -> 电梯工号 */
    onVip_vipContract_companyListItemTap: function(dataview, index, target, record, e, eOpts) {
        viewUtil.goNext('Vip.vipContractLift', {
            onShow: function() {
            //大客户与大项目-> 大客户-> 大客户合同信息 -> 电梯工号 显示
                Ext.getCmp('Vip_vipContractLift_companyList').getStore().loadDat(
                    function() {},
                    function() {},
                    null
                );
            }
        });
    },

    /* 大客户与大项目 返回 首屏 */
    onVip_subNav_BtnReturnTap: function(button, e, eOpts) {
        viewUtil.goLast();
    },

    /* 大客户合同信息 返回 大客户 */
    onVip_vipContract_BtnReturnTap: function(button, e, eOpts) {
        viewUtil.goLast();
    },

    /* 电梯工号 返回 大客户合同信息 */
    onVip_vipContractLift_BtnReturnTap: function(button, e, eOpts) {
        viewUtil.goLast();
    },

    /* 大项目详细 返回 大项目 */
    onVip_vipProjectIntroduce_BtnReturnTap: function(button, e, eOpts) {
        viewUtil.goLast();
    }

});