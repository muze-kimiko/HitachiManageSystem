
/* JavaScript content from app/view/OpportunityManagement/Project_New/BusinessAgent.js in folder common */
/*
 * File: app/view/BusinessAgent.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('HelcPAD.view.OpportunityManagement.Project_New.BusinessAgent', {
    extend: 'Ext.form.Panel',
    id:'businessagent_new_id',
    requires: [
        'Ext.Toolbar',
        'Ext.Button',
        'Ext.Spacer',
        'Ext.form.FieldSet',
        'Ext.field.Select',
        'Ext.field.TextArea'
    ],

    config: {
        items: [
            {
                xtype: 'toolbar',
                docked: 'top',
                title: '经销商业绩分成',
                cls:'textf',
                items: [
                    {
                    	id:'agentAchieveId',
                    	xtype:'hiddenfield'
                    },{
                    	id:'businessagent_new_id_FH',
                        xtype: 'button',
                        ui: 'back',
                        text: '返回'
                    },
                    {
                        xtype: 'spacer'
                    },
                    {
                    	id:'businessagent_new_id_BC',
                        xtype: 'button',
                        text: '保存'
                    },{
                    	id:'businessAgentOppty',
                    	xtype:'hiddenfield',
                    }
                ]
            },
            {
                xtype: 'fieldset',
                title: '经销商资料',
                cls:'textf',
                items: [
                    {
                    	id:'businessAgentName',
                    	name:'Agent',
                        xtype: 'selectfield',
                        label: '经销商',
                        labelWidth:'40%',
                        placeHolder: '请选择经销商'
                    },
                    {
                    	id:'achievePrecent',
                    	name:'PerformanceCountCal',
                        xtype: 'spinnerfield',
                        label: '业绩比例',
                        labelWidth:'40%',
                        placeHolder: '请输入业绩比例',
                        maxValue:1,
                        minValue:0
                        
                    },{
                    	id:'agentAchievePrimaryField',
                    	name:'PrimaryField',
                    	xtype:'togglefield',
                    	label:'主要经销商',
                    	labelWidth:'40%',
                    	listeners:{
                    		change:function( toggle, newValue, oldValue, eOpts ){
                    			console.log(event);
                    			if(event.target.nodeName!='DIV')
                    				return;
                    			if(newValue==1){
                    				Ext.Msg.show({
                    					title:'温馨提示',
                    					message:'主要经销商唯一，确认设置为主要经销商？',
                    					buttons: [{text:'取消', itemId:'no'},{text:'确定', itemId:'yes'}],
                    					fn:function(buttonId){
                    						if(buttonId=='yes'){
                    							
                    						}else{
                    							toggle.setValue(0);
                    						}
                    					}
                    				});
                    			}
                    		}
                    	}
                    },
                    {
                    	id:'comments',
                    	name:'Comments',
                        xtype: 'textareafield',
                        label: '说明',
                        labelWidth:'40%',
                        placeHolder: '请输入说明'
                    }
                ]
            }
        ]
    }

});